/* Modal styles */
.smart-reply__modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2147483646;
}

.smart-reply__modal-content {
  width: 90%;
  max-width: 700px;
  height: 85%;
  max-height: 700px;
  background: #ffffff;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(60, 64, 67, 0.15);
  font-family: 'Roboto', 'Noto Sans JP', Arial, sans-serif;
  z-index: 2147483647;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Floating trigger button */
#smart-reply-extension-trigger {
  position: fixed;
  z-index: 2147483645;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  border: none;
  border-radius: 999px;
  background: #1a73e8;
  color: #ffffff;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(26, 115, 232, 0.35);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
#smart-reply-extension-trigger:hover { transform: translateY(-1px); box-shadow: 0 8px 24px rgba(26, 115, 232, 0.4); }
#smart-reply-extension-trigger[hidden] { display: none; }
.smart-reply__floating-trigger-icon { display: inline-flex; align-items: center; justify-content: center; width: 22px; height: 22px; border-radius: 50%; background: rgba(255, 255, 255, 0.25); font-size: 11px; font-weight: 700; }
.smart-reply__floating-trigger-label { letter-spacing: 0.3px; }

/* Header */
.smart-reply__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid #edf0f3;
  background: #f7f9fc;
  font-size: 14px;
  font-weight: 600;
  color: #1a73e8;
  flex-shrink: 0;
}
.smart-reply__close { border: none; background: transparent; color: #5f6368; cursor: pointer; font-size: 20px; line-height: 1; padding: 4px; border-radius: 50%; }
.smart-reply__close:hover { background: rgba(26, 115, 232, 0.08); }

/* Body and Form */
.smart-reply__body { padding: 16px 20px; display: flex; flex-direction: column; flex-grow: 1; overflow-y: auto; gap: 16px; }
.smart-reply__form { display: flex; flex-direction: column; gap: 8px; }
.smart-reply__label { font-size: 13px; font-weight: 600; color: #3c4043; }
.smart-reply__user-prompt { width: 100%; min-height: 70px; padding: 10px; border: 1px solid #dadce0; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box; }

.smart-reply__guidance-section { display: flex; flex-direction: column; gap: 8px; }
.smart-reply__guidance-hint { font-size: 12px; color: #5f6368; margin: 0; line-height: 1.5; }
.smart-reply__guidance-categories { display: flex; flex-direction: column; gap: 10px; }
.smart-reply__guidance-card { border: 1px solid #dadce0; border-radius: 8px; padding: 10px; background: #fbfdff; display: flex; flex-direction: column; gap: 8px; }
.smart-reply__guidance-card-header { display: flex; justify-content: space-between; align-items: center; gap: 8px; font-size: 13px; color: #202124; }
.smart-reply__guidance-delete { background: transparent; border: none; color: #d93025; font-size: 12px; cursor: pointer; padding: 4px 6px; border-radius: 6px; }
.smart-reply__guidance-delete:hover { background: rgba(217, 48, 37, 0.08); }
.smart-reply__guidance-checkbox { display: flex; align-items: center; gap: 8px; font-weight: 600; }
.smart-reply__guidance-lightning-indicator { font-size: 12px; color: #3c4043; font-weight: 500; }
.smart-reply__guidance-checkbox input[type="checkbox"] { width: 16px; height: 16px; margin: 0; }
.smart-reply__guidance-empty { font-size: 12px; color: #5f6368; background: #f8f9fa; border-radius: 8px; padding: 12px; margin: 0; }
.smart-reply__guidance-textarea { width: 100%; min-height: 120px; padding: 10px; border: 1px solid #dadce0; border-radius: 8px; font-size: 13px; resize: vertical; box-sizing: border-box; margin-bottom: 4px; }
.smart-reply__guidance-add { align-self: flex-start; background: transparent; border: none; color: #1a73e8; font-size: 12px; font-weight: 600; cursor: pointer; padding: 0; }
.smart-reply__guidance-add:hover { text-decoration: underline; }


/* Guidance helpers */
.smart-reply__guidance-categories label { font-weight: inherit; }

.smart-reply__prompt-preview-overlay { z-index: 2147483647; }
.smart-reply__prompt-preview-dialog { background: #ffffff; border-radius: 10px; padding: 16px; width: min(720px, 90vw); max-height: 80vh; overflow: hidden; display: flex; flex-direction: column; gap: 12px; box-shadow: 0 24px 48px rgba(0, 0, 0, 0.2); }
.smart-reply__prompt-preview-header { display: flex; justify-content: space-between; align-items: center; font-size: 16px; font-weight: 600; color: #202124; }
.smart-reply__prompt-preview-header .smart-reply__close { background: transparent; border: none; font-size: 20px; line-height: 1; color: #5f6368; cursor: pointer; padding: 4px 8px; }
.smart-reply__prompt-preview-header .smart-reply__close:hover { color: #202124; }
.smart-reply__prompt-preview-meta { border: 1px solid #edf0f3; border-radius: 8px; padding: 10px; background: #f8f9fa; max-height: 180px; overflow: auto; }
.smart-reply__prompt-preview-meta-list { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: 6px; font-size: 12px; color: #3c4043; }
.smart-reply__prompt-preview-meta-list li { margin: 0; }
.smart-reply__prompt-preview-text { margin: 0; flex-grow: 1; overflow: auto; padding: 12px; border: 1px solid #dadce0; border-radius: 8px; background: #1f1f1f; color: #e8eaed; font-family: 'Roboto Mono', Menlo, Consolas, monospace; font-size: 12px; line-height: 1.6; white-space: pre-wrap; }

.smart-reply__generate-wrapper {
  position: sticky;
  bottom: 0;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  padding: 12px 0 0;
  margin-top: 8px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #ffffff 48%, #ffffff 100%);
}

/* Generate Button */
.smart-reply__generate-button { align-self: flex-end; background: #1a73e8; border: none; color: #fff; padding: 10px 16px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; }
.smart-reply__generate-button:disabled { background: #a0c2f5; cursor: not-allowed; }
.smart-reply__button-secondary { align-self: flex-end; background: #ffffff; border: 1px solid #dadce0; color: #1a73e8; padding: 10px 16px; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; }
.smart-reply__button-secondary:disabled { color: #9aa0a6; border-color: #e0e0e0; cursor: not-allowed; }

/* Proofread */
.smart-reply__proofread-body { gap: 16px; }
.smart-reply__proofread-section { display: flex; flex-direction: column; gap: 8px; }
.smart-reply__proofread-source { min-height: 90px; resize: vertical; }
.smart-reply__proofread-result { min-height: 120px; resize: vertical; }
.smart-reply__proofread-status { font-size: 13px; color: #5f6368; min-height: 20px; display: flex; align-items: center; }
.smart-reply__proofread-status--error { color: #d93025; }
.smart-reply__proofread-actions { display: flex; justify-content: flex-end; gap: 8px; }

/* Suggestions */
.smart-reply__suggestions-container { display: flex; flex-direction: column; gap: 10px; border-top: 1px solid #edf0f3; padding-top: 16px; }
.smart-reply__status { font-size: 14px; line-height: 1.6; color: #5f6368; text-align: center; padding: 20px; border-radius: 8px; background: #f8f9fa; }
.smart-reply__status--error { color: #d93025; background: #fce8e6; }
.smart-reply__suggestion { border: 1px solid #dadce0; border-radius: 10px; padding: 12px 14px; font-size: 14px; color: #202124; line-height: 1.5; background: #ffffff; cursor: pointer; text-align: left; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
.smart-reply__suggestion:hover { border-color: #1a73e8; box-shadow: 0 2px 8px rgba(26, 115, 232, 0.25); }
